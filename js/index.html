<html>
<head>
<meta charset="utf-8">
<title>Tile Browser</title>
<script src="http://d3js.org/d3.v3.min.js" charset="utf-8"></script>
<script src="http://d3js.org/topojson.v1.min.js" charset="utf-8"></script>
<script src="polymaps-transition.js" charset="utf-8"></script>

<style>
.map {
	background-color: white;
}
path {
	vector-effect: non-scaling-stroke;
	stroke-linejoin: round;
	stroke: grey;
	stroke-linecap: round;
}
.rectile {
	fill: white; }
</style>

</head>

<body>
<div class="map" width="100%" height="100%">
</div>

	<script>

			var po = org.polymaps;

			var mapDiv = d3.select('body')
			    .append('div').append('svg').attr('class', 'map')

			var requestParams = {
			  invertTileY: true,
			  invertY: false,
			  s: 5,
			  ringSpan: 7,
			  srid: 4326
			};

			var url = "http://tiles.mapsense.co/tilist/tile/citrus/{Z}/{X}/{Y}.topojson?";
			url += Object.keys(requestParams).map(function(k) {
			  return k + '=' + requestParams[k];
			}).join('&');
			var map = po.map()
				.container(mapDiv.node())
				.add(po.interact())
				.center({lon: -122.4, lat: 37.8})
				.zoom(14);

			var tj = po.d3TopoJson()
				.url(url)
				.attr('class', "mapFeatures")
				.tile(true)
				.clip(true);

			map.add(tj);

		</script>
<!--<script src="tile-browser.js"></script>-->
</body>
</html>
