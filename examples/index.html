<html>
<head>
	<meta charset="utf-8">
	<script src="http://d3js.org/d3.v3.min.js" charset="utf-8"></script>
	<script src="http://d3js.org/topojson.v1.min.js" charset="utf-8"></script>
	<script type="text/javascript" src="https://rawgit.com/erex78/a488f626e196e43adec9/raw/5aa537595814231ca7e0e71382c8967cbbec4c78/polymaps.js" charset="utf-8"></script>
    <link href="tron.css" rel="stylesheet">
	<style>
		.map {
			background-color: white;
			width: 100%;
			height: 100%;
		}
		.mapFeatures {
			vector-effect: non-scaling-stroke;
			stroke: grey;
			fill : none;
		}
		.rectile {
			fill: white;
		}
		</style>

	</head>

	<body>
		<script>

			var po = org.polymaps;

			var mapDiv = d3.select('body')
			    .append('div').append('svg').attr('class', 'map')

			var requestParams = {
			  invertTileY: true,
			  invertY: false,
			  s: 5,
			  ringSpan: 7,
			  srid: 4326
			};

			var url = "http://tiles.mapsense.co/tilist/tile/citrus/{Z}/{X}/{Y}.topojson?";
			url += Object.keys(requestParams).map(function(k) {
			  return k + '=' + requestParams[k];
			}).join('&');
			var map = po.map()
				.container(mapDiv.node())
				.add(po.interact())
				.center({lon: -74.01142888140966, lat: 40.70861546602194})
				.zoom(15.5);

			var tj = po.d3TopoJson()
				.url(url)
				.attr('class', "mapFeatures")
		

			map.add(tj);

		</script>
	</body>
	</html>
